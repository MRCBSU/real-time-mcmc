list.files()
dim(pop)
colnames(pop)
pop$Geography1
levels(pop$Geography1)
sum(pop$Geography1 == "Region")
dim(regions)
colnames(regions)
dim(regions)
head(regions)
gsub("X","",regions$Age,fixed=TRUE)
head(regions)
cut(0:91, age.agg, c("<1yr","1-4","5-14","15-24","25-44","45-64","65+"))
cut(0:91, age.agg, c("<1yr","1-4","5-14","15-24","25-44","45-64","65+"),right=FALSE)
cut(0:90, age.agg, c("<1yr","1-4","5-14","15-24","25-44","45-64","65+"),right=FALSE)
head(regions)
regions.short <- by(regions, Name, FUN=function(x) apply(x, Grp, FUN=function(y) sum(y$popn)))
regions.short <- by(regions, region$Name, FUN=function(x) apply(x, x$Grp, FUN=function(y) sum(y$popn)))
regions.short <- by(regions, regions$Name, FUN=function(x) apply(x, x$Grp, FUN=function(y) sum(y$popn)))
regions.short <- aggregate(regions, by = c(Name,Grp), FUN = sum)
regions.short <- aggregate(regions, by = list(Name,Grp), FUN = sum)
regions.short <- aggregate(regions, by = list(regions$Name,regions$Grp), FUN = sum)
regions.short <- aggregate(regions, by = list(Name,Grp), FUN = sum)
regions.short <- aggregate(regions, by = list(regions$Name,regions$Grp), FUN = sum)
head(regions.short)
head(regions)
attach(mtcars)
aggdata <-aggregate(mtcars, by=list(cyl,vs),
  FUN=mean, na.rm=TRUE)
head(mtcars)
head(aggdata)
?aggregate
regions.short <- aggregate(regions, by = list(regions$Name,regions$Grp), FUN = function(x) sum(x$popn))
regions.short <- aggregate(regions$popn, by = list(regions$Name,regions$Grp), FUN = sum)
dim(regions.short)
head(region.short)
head(regions.short)
sum(regions.short$x)
table(regions.short$Group.1)
table(regions.short$Group.1)
table(regions.short$Group.1, drop = T)
regions.short
regions.short
regions.short$Grp
?aggregate
regions.short$Age
as.vector(regions.short$popn[regions.short$Region=="EAST MIDLANDS"])
regions.short$popn[regions.short$Region=="EAST MIDLANDS"]
regions.short$Region=="EAST MIDLANDS"
regions.short$x[regions.short$Region=="EAST MIDLANDS"]
q()
n
source("get_popn.R")
ls()
head(regions.short)
unique(regions.short$Region)
getwd()
levels(regions.short$Region)
gsub(" ", "_", levels(regions.short$Region))
regions.short$Name==""
which(regions.short$Name=="")
regions.short$Name <- regions.short$Name[, drop=TRUE]

levels(regions.short$Name) <- gsub(" ", "_", levels(regions.short$Region))
levels(regions.short$Name)
regions.short$Name
q()
n
regions.short
levels(regions.short$Name)
regions.short$Name
head(regions.short)
q()
n
source("get_popn.R")
ls()
levels(regions.short$Region)
q()
n
source("get_popn.R")
q()
n
getwd()
setwd("../../RTModelling/")
out.dir
q()
n
